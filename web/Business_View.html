<!DOCTYPE html>
<html>
<head>
    <title>Business View Page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" href="./css/Business_View.css">

    <script>
        $(document).ready(function() {
            var today = new Date();
            var dd = String(today.getDate()).padStart(2, '0');
            var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
            var yyyy = today.getFullYear();
            var days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
            var months = ['January','February','March','April','May','June','July','August','September','October','November','December'];

            var day = days[ today.getDay() ];

            today = 'Today is ' + day + ', ' +mm + '/' + dd + '/' + yyyy;
            document.getElementById('date').innerHTML = today;   
        })
     </script>

</head>
<body onload="func_query()">
    <span id="user" style="display:none"></span>
    <span id="admin" style="display:none">false</span>

    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        
        <a class="navbar-brand" href="#">
            <img src="images/web_brand_icon.png" alt="Logo" style="width:50px;">
        </a>
      
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link active" href="Business_View.html">Services</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="Login.html">Login</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="Register.html">Registration</a>
            </li>

        </ul>


    </nav>

    <div class="container">
        <div class="d-flex justify-content-center h-100">
            <div class="card">
                
                <div class="card-header">
                    <div id="myheader">
                        Beauty Care Services Catologue
                    </div>
                    <ul id='myTab' class="nav nav-tabs nav-justified">
                        <li class="nav-item">
                          <a class="nav-link active" href="#haircut" data-toggle="tab">Haircut</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="#hair_wash_dry" data-toggle="tab">Hair Wash & Dry</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#hair_colour" data-toggle="tab"s>Hair Colour</a>
                          </li>
                     </ul>
                </div>

                <div class="card-body">

                    <div id="myTabContent" class="tab-content">

                        <div class="tab-pane active" id="haircut">
                            <br>
                            <img src="images/haircut.jpg" class="rounded mx-auto d-block" alt="haircut">
                            <br>
                            <h4>Haircut Timetable:</h4>
                            <p>View the available service slots and select your preferred ones:</p>
                            <p id='date'></p>
                            <table class="table">
                                <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Hairdresser</th>
                                    <th scope="col">Time</th>
                                    <th scope="col">Charge(AUD)</th>
                                    <th scope="col">Availablilty</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <th scope="row">1</th>
                                    <td>Beth</td>
                                    <td>9:00 - 10:00 AM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">2</th>
                                    <td>Beth</td>
                                    <td>10:00 - 11:00 AM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">3</th>
                                    <td>Beth</td>
                                    <td>11:00 - 12:00 AM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">4</th>
                                    <td>Beth</td>
                                    <td>1:00 - 2:00 PM</td>
                                    <td>undefined</td>
                                    <td>Booked</td>
                                </tr>
                                <tr>
                                    <th scope="row">5</th>
                                    <td>Beth</td>
                                    <td>2:00 - 3:00 PM</td>
                                    <td>undefined</td>
                                    <td>Booked</td>
                                </tr>
                                <tr>
                                    <th scope="row">6</th>
                                    <td>Beth</td>
                                    <td>3:00 - 4:00 PM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">7</th>
                                    <td>Beth</td>
                                    <td>4:00 - 5:00 PM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="tab-pane" id="hair_wash_dry">
                            <br>
                            <img src="images/hairwash.jpg" class="rounded mx-auto d-block" alt="hairwash">
                            <br>
                            <h4>Hair Wash & Dry Timetable:</h4>
                            <p>View the available service slots and select your preferred ones:</p>
                            <p id='date'></p>
                            <table class="table">
                                <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Hairdresser</th>
                                    <th scope="col">Time</th>
                                    <th scope="col">Charge(AUD)</th>
                                    <th scope="col">Availablilty</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <th scope="row">1</th>
                                    <td>Beth</td>
                                    <td>9:00 - 10:00 AM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">2</th>
                                    <td>Beth</td>
                                    <td>10:00 - 11:00 AM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">3</th>
                                    <td>Beth</td>
                                    <td>11:00 - 12:00 AM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">4</th>
                                    <td>Beth</td>
                                    <td>1:00 - 2:00 PM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">5</th>
                                    <td>Beth</td>
                                    <td>2:00 - 3:00 PM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">6</th>
                                    <td>Beth</td>
                                    <td>3:00 - 4:00 PM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">7</th>
                                    <td>Beth</td>
                                    <td>4:00 - 5:00 PM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>


                        <div class="tab-pane" id="hair_colour">
                            <br>
                            <img src="images/hair_colour.jpg" class="rounded mx-auto d-block" alt="hair_colour">
                            <br>
                            <h4>Hair Colour Timetable:</h4>
                            <p>View the available service slots and select your preferred ones:</p>
                            <p id='date'></p>
                            <table class="table">
                                <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Hairdresser</th>
                                    <th scope="col">Time</th>
                                    <th scope="col">Charge(AUD)</th>
                                    <th scope="col">Availablilty</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <th scope="row">1</th>
                                    <td>Beth</td>
                                    <td>9:00 - 10:00 AM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">2</th>
                                    <td>Beth</td>
                                    <td>10:00 - 11:00 AM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">3</th>
                                    <td>Beth</td>
                                    <td>11:00 - 12:00 AM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">4</th>
                                    <td>Beth</td>
                                    <td>1:00 - 2:00 PM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">5</th>
                                    <td>Beth</td>
                                    <td>2:00 - 3:00 PM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">6</th>
                                    <td>Beth</td>
                                    <td>3:00 - 4:00 PM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <th scope="row">7</th>
                                    <td>Beth</td>
                                    <td>4:00 - 5:00 PM</td>
                                    <td>undefined</td>
                                    <td>Yes</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="update_service">
                            <h4>Service Creation Interface (Only Visibile for admin):</h4>
                            <form id="server_service" action="../backend/query_service.php" method="POST" target="nm_iframe">
                                <div class="form-group">
                                    <label for="sel1">Select hairdresser:</label>
                                    <select class="form-control" id="sel1" name="sellist1">
                                      <option>Beth</option>
                                    </select>
                                    <br>
                                    <label for="sel2">Select service type:</label>
                                    <select class="form-control" id="sel2" name="sellist2" onchange="func_query()">
                                      <option>Haircut</option>
                                      <option>Hair Wash & Dry</option>
                                      <option>Hair Colour</option>
                                    </select>
                                    <br>
                                    <label for="charge">Decide charge(AUD):</label>
                                    <input type="number" min="0" step="1" oninput="validity.valid||(value='');" class="form-control" name = "charger" id="charge">
                                    <br>
                                  </div>
                                  <button type="submit" class="btn btn-primary float-right" onclick="func_update()">Add Service</button>
                            </form>
                            <script type="text/javascript">
                                function func_query(){
                                    var sel2=$("#sel2").val();
                                    $.post("../backend/query_service.php",
                                    {
                                        sellist2:sel2
                                    },
                                    function(data){
                                        func_change(data);
                                    });
                                }
                                function func_change(para){
                                    var element = document.getElementById("charge");
                                    element.value = para;
                                }
                                function func_update(){
                                    var element = document.getElementById("server_service");
                                    element.action = "../backend/update_service.php"
                                    element.submit();
                                }
                            </script>
                            <iframe id="id_iframe" name="nm_iframe" style="display:none;"></iframe>
                             
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>
</html>